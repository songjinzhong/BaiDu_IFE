<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
<body>

  <label>请输入北京今天空气质量：<input id="aqi-input" type="text"></label>
  <button id="button">确认填写</button>

  <div>您输入的值是：<span id="aqi-display">尚无录入</span></div>

<script type="text/javascript">
/*
(function() {
/*
  /*	
  在注释下方写下代码
  给按钮button绑定一个点击事件
  在事件处理函数中
  获取aqi-input输入的值，并显示在aqi-display中
  */
  /*
  var button=document.getElementById("button");
  var input=document.getElementById("aqi-input");
  var display=document.getElementById("aqi-display");
  var handler=function(){
      var num=input.value;
      if(!isNaN(num)){
        display.innerHTML=num;
      }
      else{
        alert("please input a Number!")
      }
    }
    button.addEventListener('click', function () {
      handler();
    });
    input.addEventListener("keyup",function(e){
      if(e.keyCode===13){
        handler()
      }
    });
})();
*/
/*
 * 代码重构
 */
!function(){
  var $ = function(config){
    return new $.prototype.init(config);
  }
  $.prototype = {
    constructor: $,
    init: function(config){
      this.button=document.getElementById(config.button);
      this.input=document.getElementById(config.input);
      this.display=document.getElementById(config.display);
      this.render();
    },
    render: function(){
      this.button.addEventListener('click', this.handler.bind(this));
    },
    handler: function(){
      var num = this.input.value;
      if(!isNaN(num)){
        this.display.innerHTML = num;
      }else{
        alert("invalid num!")
      }
    }
  }
  $.prototype.init.prototype = $.prototype;
  window.$ = $;
}();
$({
  button: "button",
  input: "aqi-input",
  display: "aqi-display"
})
</script>
</body>
</html>